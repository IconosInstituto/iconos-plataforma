"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[153],{9153:(a,e,i)=>{i.r(e),i.d(e,{default:()=>z});var o=i(3673),n=i(2323);(0,o.dD)("data-v-7ad26f38");const t={class:"text-caption"},r={class:"text-body2 text-dark text-bold"},l={class:"porcentaje"},d={key:0,class:"text-center q-my-lg"},c=(0,o._)("div",{class:"text-h6 text-primary q-mb-md"},"Firmado por coordinador",-1),s={class:"text-center"};function p(a,e,i,p,u,m){const f=(0,o.up)("q-td"),w=(0,o.up)("q-tr"),g=(0,o.up)("q-table"),v=(0,o.up)("conacytPrint"),y=(0,o.up)("desempeno"),_=(0,o.up)("q-card-section"),k=(0,o.up)("q-btn"),C=(0,o.up)("q-img"),b=(0,o.up)("q-card"),h=(0,o.up)("q-dialog"),W=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(W,{padding:""},{default:(0,o.w5)((()=>[p.reportes&&p.estudiantes?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(g,{class:"shadow-0",loading:p.loading,"no-data-label":"Sin datos",rows:p.reportes,columns:p.columns},{body:(0,o.w5)((a=>[(0,o.Wm)(w,{class:"cursor-pointer",props:a,onClick:e=>p.openit(a.row)},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{key:"estudiante",props:a},{default:(0,o.w5)((()=>[(0,o._)("div",t,(0,n.zw)(p.findUserData(a.row.asignacion.estudiante.user_id).name),1),(0,o._)("div",r,(0,n.zw)(a.row.asignacion.estudiante.tituloInvestigacion),1),(0,o._)("div",l,[(0,o._)("div",{style:(0,n.j5)("width:"+a.row.porcentaje+"%")},null,4)])])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"generacion",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.row.asignacion.estudiante.generacion.name),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"periodo",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.row.asignacion.periodo.name),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"calificacion",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.row.calificacion),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"firmaconacyt",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.row.firmaconacyt?"Firmado":"-"),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"firmaCoordinador",props:a},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(a.row.firmaCoordinador?"Firmado":"-"),1)])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["loading","rows","columns"]),(0,o.Wm)(h,{modelValue:p.dialog,"onUpdate:modelValue":e[0]||(e[0]=a=>p.dialog=a)},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[p.activeItem?((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(v,{asignacion:p.activeItem},null,8,["asignacion"])])):(0,o.kq)("",!0),(0,o.Wm)(y,{item:p.activeItem,conacyt:""},null,8,["item"])])),_:1}),p.activeItem.firmaCoordinador?((0,o.wg)(),(0,o.j4)(_,{key:1,class:"text-center"},{default:(0,o.w5)((()=>[c,(0,o._)("div",s,[(0,o.Wm)(C,{style:{width:"100%","max-width":"200px"},src:p.firmaCoordinador},null,8,["src"])])])),_:1})):((0,o.wg)(),(0,o.j4)(_,{key:0,class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{label:"Aprobar y firmar reporte ","no-caps":"",color:"primary",onClick:p.signReport},null,8,["onClick"])])),_:1}))])),_:1})])),_:1},8,["modelValue"])],64)):(0,o.kq)("",!0)])),_:1})}(0,o.Cn)();var u=i(1959),m=i(8825),f=i(7874),w=i(9582),g=i(1835),v=i(289),y=i(8603),_=i.n(y);const k={components:{desempeno:g.Z,conacytPrint:v.Z},setup(){const a=(0,m.Z)(),e=(0,f.oR)(),i=((0,w.tv)(),(0,u.iH)(!1)),o=(0,u.iH)(null),n=(0,u.iH)(null),t=a=>_().find(n.value,{_id:a}),r=(0,u.iH)(null),l=()=>{var a={tipo:"director",firmaconacyt:!0};e.dispatch("api/GetAllData","coordinadors").then((a=>{a[0].firma&&(r.value=a[0].firma)})),e.dispatch("api/GetAllDataFilteredV2",["asesores",a]).then((a=>{o.value=a})),e.dispatch("api/GetUsersByGroup","estudiante").then((a=>{var e=[];for(var i in a)a[i].active&&e.push(a[i]);n.value=e}))};l();const d=(0,u.iH)(!1),c=(0,u.iH)(null),s=a=>{d.value=!0,c.value=a},p=()=>{var i={coll:"asesores",_id:c.value._id,firmaCoordinador:!0};e.dispatch("api/SaveItem",i).then((e=>{d.value=!1,c.value=null,a.notify("Reporte firmado"),l()}))};return{loading:i,reportes:o,columns:[{name:"estudiante",label:"Investigación",field:"estudiante",align:"left"},{name:"generacion",label:"Generación",field:"asignacion",align:"left"},{name:"periodo",label:"Periodo",field:"asignacion",align:"left"},{name:"calificacion",label:"Calificacion",field:"calificacion",align:"center"},{name:"firmaconacyt",label:"CONACYT",field:"firmaconacyt",align:"center"},{name:"firmaCoordinador",label:"Firma de coordinador",field:"firmaCoordinador",align:"center"}],estudiantes:n,findUserData:t,openit:s,activeItem:c,dialog:d,signReport:p,firmaCoordinador:r}}};var C=i(4379),b=i(3243),h=i(8186),W=i(3884),q=i(6778),x=i(151),Z=i(5589),I=i(8240),Q=i(4027),U=i(7518),D=i.n(U);k.render=p,k.__scopeId="data-v-7ad26f38";const z=k;D()(k,"components",{QPage:C.Z,QTable:b.Z,QTr:h.Z,QTd:W.Z,QDialog:q.Z,QCard:x.Z,QCardSection:Z.Z,QBtn:I.Z,QImg:Q.Z})}}]);