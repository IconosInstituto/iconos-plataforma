"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[341],{8623:(e,a,t)=>{t.d(a,{Z:()=>q});var l=t(3673),o=t(8880);const s={class:"q-ml-sm"},i=(0,l.Uk)("Editar"),n=(0,l._)("div",{class:"text-h6 text-white"},"Editar",-1),d={class:"text-center q-mt-sm"};function u(e,a,t,u,r,c){const m=(0,l.up)("q-tooltip"),p=(0,l.up)("q-btn"),v=(0,l.up)("q-card-section"),g=(0,l.up)("q-input"),w=(0,l.up)("q-separator"),_=(0,l.up)("q-form"),f=(0,l.up)("q-card"),h=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("span",s,[(0,l.Wm)(p,{icon:"brush",flat:"",padding:"2px",color:"grey",size:"xs",onClick:a[0]||(a[0]=e=>u.dialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[i])),_:1})])),_:1}),(0,l.Wm)(h,{modelValue:u.dialog,"onUpdate:modelValue":a[2]||(a[2]=e=>u.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"bg-dark shadow-20 full-width",style:{"min-width":"320px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"text-center"},{default:(0,l.w5)((()=>[n])),_:1}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{onSubmit:(0,o.iM)(u.saveit,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{modelValue:u.thevalue,"onUpdate:modelValue":a[1]||(a[1]=e=>u.thevalue=e),label:u.thelabel,rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue","label"]),(0,l.Wm)(w,{spaced:""}),(0,l._)("div",d,[(0,l.Wm)(p,{label:"Guardar",color:"secondary",unelevated:"",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var r=t(1959),c=t(7874);const m={props:["value","field","label","coll","id","user_id"],setup(e,a){const t=(0,c.oR)(),l=(0,r.iH)(!1),o=(0,r.iH)(e.value),s=(0,r.iH)(e.label),i=(0,r.iH)({_id:e.id,coll:e.coll}),n=()=>{e.user_id&&(i.value["user_id"]=e.user_id),i.value[e.field]=o.value,t.dispatch("api/SaveItem",i.value).then((t=>{a.emit("modified"),l.value=!1,i.value={_id:e.id,coll:e.coll}}))};return{dialog:l,thevalue:o,thelabel:s,saveit:n}}};var p=t(8240),v=t(8870),g=t(6778),w=t(151),_=t(5589),f=t(5269),h=t(4842),b=t(5869),x=t(7518),W=t.n(x);m.render=u;const q=m;W()(m,"components",{QBtn:p.Z,QTooltip:v.Z,QDialog:g.Z,QCard:w.Z,QCardSection:_.Z,QForm:f.Z,QInput:h.Z,QSeparator:b.Z})},9341:(e,a,t)=>{t.r(a),t.d(a,{default:()=>We});var l=t(3673),o=t(2323);const s={class:"row q-col-gutter-md"},i={class:"col-12"},n={class:"text-bold text-primary text-white"},d=(0,l._)("span",{class:"text-grey q-mx-sm"},"Cuenta: ",-1),u={class:"text-white"},r=(0,l._)("span",{class:"text-grey q-mx-sm"},"Correo: ",-1),c={class:"text-white"},m={class:"col-12 col-sm-4"},p={class:"col-12 col-md-4"},v={class:"col-12 col-md-4"},g={class:"col-12"},w=(0,l._)("div",{class:"text-grey"},"Título de Investigación",-1),_={class:"text-h6 text-bold text-primary"},f={class:"q-mt-xl"};function h(e,a,t,h,b,x){const W=(0,l.up)("q-icon"),q=(0,l.up)("q-card-section"),k=(0,l.up)("q-card"),y=(0,l.up)("q-select"),Z=(0,l.up)("q-separator"),D=(0,l.up)("periodos"),Q=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(Q,{padding:""},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("div",i,[(0,l.Wm)(k,{class:"shadow-24 bg-dark"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,{class:"q-mr-sm",name:"person",color:"white",size:"md"}),(0,l._)("span",n,(0,o.zw)(h.user.name),1),(0,l._)("div",null,[d,(0,l._)("span",u,(0,o.zw)(h.user.user),1),r,(0,l._)("span",c,(0,o.zw)(h.user.email),1)])])),_:1})])),_:1})]),(0,l._)("div",m,[(0,l.Wm)(k,{class:"shadow-24"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{label:"Generación:",modelValue:h.userData.generacion,"onUpdate:modelValue":[a[0]||(a[0]=e=>h.userData.generacion=e),h.saveThis],standout:"bg-primary text-white",dense:"",options:h.generaciones,"option-value":"_id","option-label":"name","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1})])),_:1})]),(0,l._)("div",p,[(0,l.Wm)(k,{class:"shadow-24"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{label:"Beca:",modelValue:h.userData.beca,"onUpdate:modelValue":[a[1]||(a[1]=e=>h.userData.beca=e),h.saveThis],standout:"bg-primary text-white",dense:"",options:["CONACYT","SIN BECA"]},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1})]),(0,l._)("div",v,[(0,l.Wm)(k,{class:(0,o.C_)(["shadow-24",["ACTIVO"==h.userData.status?"bg-positive":"","EGRESADO"==h.userData.status?"bg-info":"","BAJA"==h.userData.status?"bg-negative":""]])},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(y,{dark:"",label:"Estatus:",modelValue:h.userData.status,"onUpdate:modelValue":[a[2]||(a[2]=e=>h.userData.status=e),h.saveThis],standout:"bg-primary text-white",dense:"",options:["ACTIVO","EGRESADO","BAJA"]},null,8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["class"])]),(0,l._)("div",g,[(0,l.Wm)(k,{class:"shadow-24"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{class:"text-center"},{default:(0,l.w5)((()=>[w,(0,l._)("div",_,(0,o.zw)(h.userData.titulo||"- -"),1)])),_:1})])),_:1})])]),(0,l._)("div",f,[(0,l.Wm)(Z,{spaced:""})]),h.user&&h.userData?((0,l.wg)(),(0,l.j4)(D,{key:0,estudianteid:h.user._id},null,8,["estudianteid"])):(0,l.kq)("",!0)])),_:1})}var b=t(515),x=t.n(b),W=t(1959),q=t(9582),k=t(7874),y=t(8623),Z=t(8825);const D={class:"relative-position"},Q=(0,l._)("div",{class:"text-h6 text-dark q-my-md"},"Periodos",-1),V={key:0,class:"text-center"},C=(0,l._)("div",{class:"text-center text-body1 text-white"},"Asignar periodos",-1),I=(0,l.Uk)("Inicio: "),H={class:"text-bold"},S=(0,l.Uk)("Fin: "),U={class:"text-bold"},A={class:"text-center"},T={class:"row q-col-gutter-md"},z={class:"col-12 col-sm-4"},G={class:"text-h6"},E=(0,l._)("div",{class:"text-caption text-grey"},[(0,l.Uk)("2021/11/01"),(0,l._)("span",{class:"text-primary text-bold q-mx-sm"},"- "),(0,l.Uk)("2021/12/31")],-1);function N(e,a,t,s,i,n){const d=(0,l.up)("q-inner-loading"),u=(0,l.up)("q-btn"),r=(0,l.up)("q-card-section"),c=(0,l.up)("q-item-label"),m=(0,l.up)("q-item-section"),p=(0,l.up)("q-checkbox"),v=(0,l.up)("q-item"),g=(0,l.up)("q-card"),w=(0,l.up)("q-dialog"),_=(0,l.up)("asesores");return(0,l.wg)(),(0,l.iD)("div",D,[(0,l.Wm)(d,{showing:s.loading},null,8,["showing"]),Q,s.loading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",V,[(0,l.Wm)(u,{class:"q-my-md",label:"Asignar periodos",color:"primary",unelevated:"","no-caps":"",onClick:a[0]||(a[0]=e=>s.dialog=!0)})])),(0,l.Wm)(w,{modelValue:s.dialog,"onUpdate:modelValue":a[2]||(a[2]=e=>s.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"shadow-24 bg-dark full-width"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[C])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.periodos,((e,t)=>((0,l.wg)(),(0,l.j4)(v,{class:"bg-white rounded-borders q-my-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-bold text-body1 text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.name),1)])),_:2},1024),(0,l.Wm)(c,{caption:""},{default:(0,l.w5)((()=>[I,(0,l._)("span",H,(0,o.zw)(e.startDate),1)])),_:2},1024),(0,l.Wm)(c,{caption:""},{default:(0,l.w5)((()=>[S,(0,l._)("span",U,(0,o.zw)(e.endDate),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(m,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{modelValue:s.asignadosNuevos,"onUpdate:modelValue":a[1]||(a[1]=e=>s.asignadosNuevos=e),val:e},null,8,["modelValue","val"])])),_:2},1024)])),_:2},1024)))),256))])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",A,[(0,l.Wm)(u,{label:"Guardar",color:"primary",unelevated:"","no-caps":"",onClick:s.asignarFN},null,8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l._)("div",T,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.asignaciones,((e,a)=>((0,l.wg)(),(0,l.iD)("div",z,[(0,l.Wm)(g,{class:"shadow-24"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l._)("div",G,(0,o.zw)(e.periodo.name),1),E])),_:2},1024),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{asignacion:e,key:e._id},null,8,["asignacion"])])),_:2},1024)])),_:2},1024)])))),256))])])}var R=t(8880);const F=(0,l._)("div",{class:"text-body1 text-center text-info"},"DIRECTOR",-1),B=(0,l.Uk)("Eliminar"),j={class:"text-center"},O=(0,l._)("div",{class:"text-body1 text-center text-negative"},"LECTORES",-1),L=(0,l.Uk)("Eliminar"),M={class:"text-center"},Y={class:"text-center text-body1 text-white"},K={class:"bg-white rounded-borders q-pa-sm"},P={class:"text-center"};function J(e,a,t,s,i,n){const d=(0,l.up)("q-separator"),u=(0,l.up)("q-item-section"),r=(0,l.up)("q-tooltip"),c=(0,l.up)("q-btn"),m=(0,l.up)("q-item"),p=(0,l.up)("q-list"),v=(0,l.up)("q-card-section"),g=(0,l.up)("q-select"),w=(0,l.up)("q-form"),_=(0,l.up)("q-card"),f=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(d,{class:"q-my-md",spaced:""}),F,(0,l.Wm)(p,{separator:""},{default:(0,l.w5)((()=>[s.docentes.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(s.directores,((e,a)=>((0,l.wg)(),(0,l.j4)(m,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"text-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(s.docenteName(e.docente)[0].name),1)])),_:2},1024),(0,l.Wm)(u,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{icon:"delete",onClick:a=>s.deleteItem(e),size:"xs",padding:"4px",color:"negative"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[B])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),256)):(0,l.kq)("",!0)])),_:1}),(0,l._)("div",j,[0==s.directores.length?((0,l.wg)(),(0,l.j4)(c,{key:0,class:"q-my-md",icon:"add",label:"Asignar director",color:"info",unelevated:"","no-caps":"",onClick:a[0]||(a[0]=e=>s.openDialog("director"))})):(0,l.kq)("",!0)]),(0,l.Wm)(d,{class:"q-my-md",spaced:""}),O,(0,l.Wm)(p,{separator:""},{default:(0,l.w5)((()=>[s.docentes.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(s.lectores,((e,a)=>((0,l.wg)(),(0,l.j4)(m,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(s.docenteName(e.docente)[0].name),1)])),_:2},1024),(0,l.Wm)(u,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{icon:"delete",onClick:a=>s.deleteItem(e),size:"xs",padding:"4px",color:"negative"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[L])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),256)):(0,l.kq)("",!0)])),_:1}),(0,l._)("div",M,[(0,l.Wm)(c,{class:"q-my-md",icon:"add",label:"Asignar lector",color:"secondary",unelevated:"","no-caps":"",onClick:a[1]||(a[1]=e=>s.openDialog("lector"))})]),(0,l.Wm)(f,{modelValue:s.dialog,"onUpdate:modelValue":a[3]||(a[3]=e=>s.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{class:"shadow-24 bg-dark full-width"},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{onSubmit:(0,R.iM)(s.nuevoFN,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l._)("div",Y,"Asignar "+(0,o.zw)("director"==s.nuevoTipo?"Director":"Lector"),1)])),_:1}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l._)("div",K,[(0,l.Wm)(g,{options:s.docentes,modelValue:s.nuevoItem,"onUpdate:modelValue":a[2]||(a[2]=e=>s.nuevoItem=e),"option-label":"name","map-options":"",standout:"bg-primary text-white",required:""},null,8,["options","modelValue"])])])),_:1}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l._)("div",P,[(0,l.Wm)(c,{icon:"add",label:"Asignar lector",color:"primary",unelevated:"","no-caps":"",type:"submit",disabled:!s.nuevoItem},null,8,["disabled"])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])}const X={props:["asignacion"],setup(e){const a=(0,Z.Z)(),t=(0,k.oR)(),l=(0,W.iH)(!1),o=(0,W.iH)([]),s=(0,W.iH)([]),i=(0,W.iH)([]),n=(0,W.iH)(null),d=(0,W.iH)("director"),u=e=>{d.value=e,l.value=!0,n.value=null},r=()=>{if(o.value.length>0)return!1;t.dispatch("api/GetUsersByGroup","docente").then((e=>{for(var a in o.value=[],e)e[a].active&&o.value.push(e[a])}))},c=()=>{var o={docente:n.value._id,tipo:d.value,asignacion:e.asignacion,coll:"asignacionesMiembros"};t.dispatch("api/SaveItem",o).then((e=>{a.notify("Docente asignado"),n.value=null,l.value=!1,p()}))},m=e=>o.value.filter((function(a,t,l){return a._id==e})),p=()=>{const a={"asignacion._id":e.asignacion._id};t.dispatch("api/GetAllDataFilteredV2",["asignacionesMiembros",a]).then((e=>{for(var a in s.value=[],i.value=[],e)"director"==e[a].tipo?s.value.push(e[a]):i.value.push(e[a])})),r()};p();const v=e=>{t.dispatch("api/RemoveItem",["asignacionesMiembros","_id",e._id]).then((e=>{p()}))};return{docentes:o,dialog:l,directores:s,lectores:i,openDialog:u,nuevoItem:n,nuevoTipo:d,nuevoFN:c,loadAsignados:p,docenteName:m,deleteItem:v}}};var $=t(5869),ee=t(7011),ae=t(3414),te=t(2035),le=t(8240),oe=t(8870),se=t(6778),ie=t(151),ne=t(5269),de=t(5589),ue=t(7208),re=t(7518),ce=t.n(re);X.render=J;const me=X;ce()(X,"components",{QSeparator:$.Z,QList:ee.Z,QItem:ae.Z,QItemSection:te.Z,QBtn:le.Z,QTooltip:oe.Z,QDialog:se.Z,QCard:ie.Z,QForm:ne.Z,QCardSection:de.Z,QSelect:ue.Z});const pe={props:["estudianteid"],components:{asesores:me},setup(e){const a=(0,Z.Z)(),t=(0,k.oR)(),l=(0,W.iH)(!0),o=(0,W.iH)([]),s=(0,W.iH)(!1),i=(0,W.iH)([]),n=()=>{for(var l in s.value=!1,i.value){const o={user_id:e.estudianteid,periodo:i.value[l],coll:"asignaciones"};t.dispatch("api/SaveItem",o).then((e=>{a.notify("Periodos asignados a estudiante"),r()}))}},d=()=>{t.dispatch("api/GetAllData","periodos").then((e=>{o.value=e,r()}))},u=(0,W.iH)([]),r=()=>{t.dispatch("api/GetAllDataFiltered",["asignaciones","user_id",e.estudianteid]).then((e=>{for(var a in u.value=e,e)o.value=o.value.filter((function(t,l,o){return t._id!=e[a].periodo._id}));l.value=!1}))};return d(),{dialog:s,periodos:o,asignadosNuevos:i,asignarFN:n,asignaciones:u,loading:l,loadAsignaciones:r}}};var ve=t(6941),ge=t(2350),we=t(5735);pe.render=N;const _e=pe;ce()(pe,"components",{QInnerLoading:ve.Z,QBtn:le.Z,QDialog:se.Z,QCard:ie.Z,QCardSection:de.Z,QItem:ae.Z,QItemSection:te.Z,QItemLabel:ge.Z,QCheckbox:we.Z});const fe={components:{editThis:y.Z,periodos:_e},setup(){const e=(0,Z.Z)(),a=(0,q.yj)(),t=(0,k.oR)(),l=(0,W.iH)({name:"",user:""}),o=(0,W.iH)({}),s=(0,W.iH)([{titulo:""}]),i=(0,W.iH)(!0),n=(0,W.iH)([]),d=(0,W.iH)([]),u=(0,W.iH)([]),r=()=>{const a=x()(x()({},o.value),{},{coll:"estudiantes"});t.dispatch("api/SaveItem",a).then((a=>{e.notify("Guardado")}))},c=()=>{t.dispatch("api/GetSingleUser",a.params.id).then((e=>{l.value=e,t.dispatch("api/GetSingleData",{coll:"estudiantes",id:a.params.id}).then((e=>{e.length&&(o.value=e[0])}))}))};c();const m=()=>{t.dispatch("api/GetAllData","generaciones").then((e=>{u.value=e}))};return m(),{user:l,userData:o,userTesis:s,loadItem:c,loading:i,periodos:n,coloquios:d,generaciones:u,saveThis:r}}};var he=t(4379),be=t(4554),xe=t(4842);fe.render=h;const We=fe;ce()(fe,"components",{QPage:he.Z,QCard:ie.Z,QCardSection:de.Z,QIcon:be.Z,QSelect:ue.Z,QSeparator:$.Z,QCheckbox:we.Z,QInput:xe.Z})}}]);