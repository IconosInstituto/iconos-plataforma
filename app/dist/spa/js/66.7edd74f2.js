"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[66],{1066:(e,a,l)=>{l.r(a),l.d(a,{default:()=>I});var o=l(3673);function t(e,a,l,t,u,d){const n=(0,o.up)("Usuarios"),s=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(s,{padding:""},{default:(0,o.w5)((()=>[(0,o.Wm)(n)])),_:1})}var u=l(2323);(0,o.dD)("data-v-c0e188b4");const d={class:"flex justify-end full-width"},n=(0,o.Uk)("Activo"),s=(0,o.Uk)("Inactivo"),r=(0,o._)("div",{class:"text-h6 text-white"},"Editar usuario",-1),i={class:"text-center q-mt-sm"},m={class:"text-center q-mt-sm"},c={class:"text-center q-mt-lg"};function p(e,a,l,t,p,g){const w=(0,o.up)("q-btn"),v=(0,o.up)("q-inner-loading"),f=(0,o.up)("q-td"),b=(0,o.up)("q-tooltip"),k=(0,o.up)("q-icon"),W=(0,o.up)("q-tr"),q=(0,o.up)("q-table"),_=(0,o.up)("q-card-section"),V=(0,o.up)("q-input"),U=(0,o.up)("q-separator"),h=(0,o.up)("q-btn-toggle"),y=(0,o.up)("q-toggle"),Z=(0,o.up)("q-form"),Q=(0,o.up)("q-card"),C=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(q,{class:"shadow-0",loading:t.loading,"no-data-label":"Sin datos",rows:t.datausers,columns:t.columns,dense:""},{top:(0,o.w5)((()=>[(0,o._)("div",d,[(0,o.Wm)(w,{label:"Nuevo usuario",color:"secondary",rounded:"",unelevated:"",onClick:a[0]||(a[0]=e=>t.edituserDialog(t.cleanuser,!0)),"no-caps":""})])])),loading:(0,o.w5)((()=>[(0,o.Wm)(v,{showing:"",color:"primary"})])),body:(0,o.w5)((e=>[(0,o.Wm)(W,{class:"cursor-pointer",props:e,onClick:a=>t.edituserDialog(e.row,!1)},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{class:"text-bold",key:"user",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,u.zw)(e.row.user),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"name",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,u.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"email",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,u.zw)(e.row.email),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{class:"text-uppercase text-caption text-bold text-grey-5",key:"group",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,u.zw)(e.row.group),1)])),_:2},1032,["props"]),(0,o.Wm)(f,{key:"active",props:e},{default:(0,o.w5)((()=>[e.row.active?((0,o.wg)(),(0,o.j4)(k,{key:0,name:"done",color:"positive"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[n])),_:1})])),_:1})):((0,o.wg)(),(0,o.j4)(k,{key:1,name:"cancel",color:"negative"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[s])),_:1})])),_:1}))])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["loading","rows","columns"]),(0,o.Wm)(C,{modelValue:t.dialog,"onUpdate:modelValue":a[7]||(a[7]=e=>t.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(Q,{class:"bg-dark shadow-20"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{class:"text-center"},{default:(0,o.w5)((()=>[r])),_:1}),(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(V,{modelValue:t.edituser.user,"onUpdate:modelValue":a[1]||(a[1]=e=>t.edituser.user=e),label:"Usuario / Cuenta",rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue"]),(0,o.Wm)(V,{class:"q-mt-sm",modelValue:t.edituser.name,"onUpdate:modelValue":a[2]||(a[2]=e=>t.edituser.name=e),label:"Nombre",rounded:"",standout:"",dark:"",dense:""},null,8,["modelValue"]),(0,o.Wm)(V,{class:"q-mt-sm",modelValue:t.edituser.email,"onUpdate:modelValue":a[3]||(a[3]=e=>t.edituser.email=e),label:"Email",rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue"]),(0,o.Wm)(U,{spaced:""}),(0,o.Wm)(V,{class:"q-mt-sm",modelValue:t.edituser.password,"onUpdate:modelValue":a[4]||(a[4]=e=>t.edituser.password=e),label:"Contraseña",rounded:"",standout:"",dark:"",dense:"",required:"",hint:"Dejar vacío para mantener la contraseña."},null,8,["modelValue"]),(0,o.Wm)(U,{spaced:""}),(0,o._)("div",i,[(0,o.Wm)(h,{rounded:"",unelevated:"","toggle-color":"info","text-color":"white",modelValue:t.edituser.group,"onUpdate:modelValue":a[5]||(a[5]=e=>t.edituser.group=e),options:[{label:"Docente",value:"docente"},{label:"Estudiante",value:"estudiante"},{label:"Coordinador",value:"coordinador"},{label:"Admin",value:"admin"}]},null,8,["modelValue"])]),(0,o.Wm)(U,{spaced:""}),(0,o._)("div",m,[(0,o.Wm)(y,{class:"q-mt-sm text-white",modelValue:t.edituser.active,"onUpdate:modelValue":a[6]||(a[6]=e=>t.edituser.active=e),label:"Activo",color:"info"},null,8,["modelValue"])]),(0,o._)("div",c,[(0,o.Wm)(w,{label:"Guardar",color:"secondary",rounded:"",unelevated:"",onClick:t.edituserFN},null,8,["onClick"])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}(0,o.Cn)();var g=l(1959),w=l(7874),v=l(8825);const f={setup(){const e=(0,v.Z)(),a=(0,w.oR)(),l=(0,g.iH)(!0),o=(0,g.iH)(),t=(0,g.iH)([{name:"user",label:"Usuario / Cuenta",field:"user",align:"left"},{name:"name",label:"Nombre",field:"name",align:"left"},{name:"email",label:"Email",field:"email",align:"left"},{name:"group",label:"Tipo",field:"group",align:"left",sortable:!0},{name:"active",label:"Activo",field:"active",align:"center",sortable:!0}]),u=(0,g.iH)(!1),d=(0,g.iH)(null),n={user:"",name:"",email:"",group:"estudiante",active:!0},s=async()=>{a.dispatch("api/GetUsers").then((e=>{o.value=e,l.value=!1}))};s();const r=(e,a)=>{a&&(e.password="ABC"),d.value=JSON.parse(JSON.stringify(e)),u.value=!0},i=l=>{u.value=!1,a.dispatch("api/SaveUser",{user:d.value}).then((a=>{s(),e.notify("Guardado")})).catch((a=>{e.notify(a.message)})),d.value=null};return{loading:l,datausers:o,columns:t,edituserDialog:r,edituserFN:i,edituser:d,dialog:u,cleanuser:n}}};var b=l(8100),k=l(4607),W=l(6941),q=l(8186),_=l(3884),V=l(4554),U=l(8870),h=l(6778),y=l(151),Z=l(5589),Q=l(8689),C=l(4842),x=l(5869),D=l(8761),N=l(8886),T=l(7518),S=l.n(T);f.render=p,f.__scopeId="data-v-c0e188b4";const j=f;S()(f,"components",{QTable:b.Z,QBtn:k.Z,QInnerLoading:W.Z,QTr:q.Z,QTd:_.Z,QIcon:V.Z,QTooltip:U.Z,QDialog:h.Z,QCard:y.Z,QCardSection:Z.Z,QForm:Q.Z,QInput:C.Z,QSeparator:x.Z,QBtnToggle:D.Z,QToggle:N.Z});const A={components:{Usuarios:j},setup(){return{}}};var H=l(4379);A.render=t;const I=A;S()(A,"components",{QPage:H.Z})}}]);