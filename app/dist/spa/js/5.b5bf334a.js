"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[5],{8623:(e,a,t)=>{t.d(a,{Z:()=>Z});var l=t(3673),o=t(8880);const d={class:"q-ml-sm"},n=(0,l.Uk)("Editar"),i=(0,l._)("div",{class:"text-h6 text-white"},"Editar",-1),r={class:"text-center q-mt-sm"};function s(e,a,t,s,u,m){const p=(0,l.up)("q-tooltip"),c=(0,l.up)("q-btn"),w=(0,l.up)("q-card-section"),f=(0,l.up)("q-input"),b=(0,l.up)("q-separator"),v=(0,l.up)("q-form"),_=(0,l.up)("q-card"),D=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("span",d,[(0,l.Wm)(c,{icon:"brush",flat:"",padding:"2px",color:"grey",size:"xs",onClick:a[0]||(a[0]=e=>s.dialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[n])),_:1})])),_:1}),(0,l.Wm)(D,{modelValue:s.dialog,"onUpdate:modelValue":a[2]||(a[2]=e=>s.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{class:"bg-dark shadow-20 full-width",style:{"min-width":"320px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"text-center"},{default:(0,l.w5)((()=>[i])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{onSubmit:(0,o.iM)(s.saveit,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:s.thevalue,"onUpdate:modelValue":a[1]||(a[1]=e=>s.thevalue=e),label:s.thelabel,rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue","label"]),(0,l.Wm)(b,{spaced:""}),(0,l._)("div",r,[(0,l.Wm)(c,{label:"Guardar",color:"secondary",unelevated:"",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var u=t(1959),m=t(7874);const p={props:["value","field","label","coll","id","user_id"],setup(e,a){const t=(0,m.oR)(),l=(0,u.iH)(!1),o=(0,u.iH)(e.value),d=(0,u.iH)(e.label),n=(0,u.iH)({_id:e.id,coll:e.coll}),i=()=>{e.user_id&&(n.value["user_id"]=e.user_id),n.value[e.field]=o.value,t.dispatch("api/SaveItem",n.value).then((t=>{a.emit("modified"),l.value=!1,n.value={_id:e.id,coll:e.coll}}))};return{dialog:l,thevalue:o,thelabel:d,saveit:i}}};var c=t(8240),w=t(8870),f=t(6778),b=t(151),v=t(5589),_=t(5269),D=t(4842),h=t(5869),g=t(7518),W=t.n(g);p.render=s;const Z=p;W()(p,"components",{QBtn:c.Z,QTooltip:w.Z,QDialog:f.Z,QCard:b.Z,QCardSection:v.Z,QForm:_.Z,QInput:D.Z,QSeparator:h.Z})},5005:(e,a,t)=>{t.r(a),t.d(a,{default:()=>U});var l=t(3673),o=t(8880),d=t(2323);const n=(0,l._)("div",{class:"text-h6 text-primary"},"Periodos",-1),i={class:"col"},r={class:"col"},s={class:"col"},u={class:"col text-right"},m=(0,l.Uk)("Eliminar");function p(e,a,t,p,c,w){const f=(0,l.up)("q-input"),b=(0,l.up)("q-btn"),v=(0,l.up)("q-form"),_=(0,l.up)("q-card-section"),D=(0,l.up)("q-card"),h=(0,l.up)("q-td"),g=(0,l.up)("q-tooltip"),W=(0,l.up)("q-tr"),Z=(0,l.up)("q-table"),q=(0,l.up)("q-separator"),k=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(k,{padding:""},{default:(0,l.w5)((()=>[n,(0,l.Wm)(Z,{class:"shadow-0",loading:p.loading,"no-data-label":"Sin datos",rows:p.items,columns:p.columns},{top:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"shadow-24 bg-dark full-width q-my-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"row q-col-gutter-md items-center",onSubmit:(0,o.iM)(p.submitNew,["prevent"])},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(f,{modelValue:p.newItem.name,"onUpdate:modelValue":a[0]||(a[0]=e=>p.newItem.name=e),label:"Nombre",standout:"bg-primary text-white",dense:"",dark:"",required:""},null,8,["modelValue"])]),(0,l._)("div",r,[(0,l.Wm)(f,{modelValue:p.newItem.startDate,"onUpdate:modelValue":a[1]||(a[1]=e=>p.newItem.startDate=e),label:"Inicio",type:"date",standout:"bg-primary text-white",dense:"",dark:""},null,8,["modelValue"])]),(0,l._)("div",s,[(0,l.Wm)(f,{modelValue:p.newItem.endDate,"onUpdate:modelValue":a[2]||(a[2]=e=>p.newItem.endDate=e),label:"Fin",type:"date",standout:"bg-primary text-white",dense:"",dark:""},null,8,["modelValue"])]),(0,l._)("div",u,[(0,l.Wm)(b,{label:"Crear periodo",color:"primary",unelevated:"","no-caps":"",disabled:""==p.newItem.name,type:"submit"},null,8,["disabled"])])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),body:(0,l.w5)((e=>[(0,l.Wm)(W,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"text-bold",key:"name",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"startDate",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(e.row.startDate),1)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"endDate",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,d.zw)(e.row.endDate),1)])),_:2},1032,["props"]),(0,l.Wm)(h,{key:"actions",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{icon:"delete",onClick:a=>p.deleteItem(e.row),size:"xs",padding:"4px",color:"negative"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[m])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["loading","rows","columns"]),(0,l.Wm)(q,{spaced:""})])),_:1})}var c=t(515),w=t.n(c),f=t(1959),b=t(9582),v=t(7874),_=t(8623),D=t(1082),h=t(8825);const g={components:{editThis:_.Z},setup(){const e=(0,h.Z)(),a=((0,b.yj)(),(0,v.oR)()),t=(0,f.iH)(!0),l=(0,f.iH)([]),o=[{name:"name",label:"Nombre",field:"name",align:"left"},{name:"startDate",label:"Inicio",field:"startDate",align:"center"},{name:"endDate",label:"Fin",field:"endDate",align:"center"},{name:"actions"}],d=(0,f.iH)({name:"",startDate:D.ZP.formatDate(Date.now(),"YYYY-MM-DD"),endDate:D.ZP.formatDate(Date.now(),"YYYY-MM-DD")}),n=()=>{const e=w()(w()({},d.value),{},{coll:"periodos"});a.dispatch("api/SaveItem",e).then((e=>{i(),d.value={name:"",startDate:D.ZP.formatDate(Date.now(),"YYYY-MM-DD"),endDate:D.ZP.formatDate(Date.now(),"YYYY-MM-DD")}}))},i=()=>{a.dispatch("api/GetAllData","periodos").then((e=>{l.value=e,t.value=!1}))},r=t=>{e.dialog({title:"Eliminar periodo",cancel:"Cancelar",ok:"Eliminar"}).onOk((()=>{a.dispatch("api/RemoveItem",["periodos","_id",t._id]).then((a=>{i(),e.notify("Eliminado")}))}))};return i(),{loadItem:i,loading:t,items:l,columns:o,newItem:d,submitNew:n,deleteItem:r}}};var W=t(4379),Z=t(3243),q=t(151),k=t(5589),y=t(5269),Q=t(4842),I=t(8240),x=t(8186),Y=t(3884),V=t(8870),C=t(5869),S=t(7518),M=t.n(S);g.render=p;const U=g;M()(g,"components",{QPage:W.Z,QTable:Z.Z,QCard:q.Z,QCardSection:k.Z,QForm:y.Z,QInput:Q.Z,QBtn:I.Z,QTr:x.Z,QTd:Y.Z,QTooltip:V.Z,QSeparator:C.Z})}}]);