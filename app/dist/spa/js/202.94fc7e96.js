"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[202],{5202:(e,a,t)=>{t.r(a),t.d(a,{default:()=>M});var s=t(3673),l=t(8880),n=t(9901),o=t.n(n),r=t(9881),u=t.n(r);(0,s.dD)("data-v-212a7f8c");const d={class:"text-center q-mt-lg"},i={class:"text-center"},c=(0,s._)("div",{class:"text-grey text-bold"},[(0,s._)("span",null,"usuario"),(0,s._)("span",{class:"text-dark"}," / "),(0,s._)("span",null,"contraseña")],-1),m=(0,s._)("div",null,[(0,s._)("span",{class:"text-primary"},"docente"),(0,s._)("span",{class:"text-dark"}," / "),(0,s._)("span",{class:"text-secondary"},"docente")],-1),p=(0,s._)("div",null,[(0,s._)("span",{class:"text-primary"},"01110284"),(0,s._)("span",{class:"text-dark"}," / "),(0,s._)("span",{class:"text-secondary"},"estudiante")],-1),w=(0,s._)("div",null,[(0,s._)("span",{class:"text-primary"},"coordinador"),(0,s._)("span",{class:"text-dark"}," / "),(0,s._)("span",{class:"text-secondary"},"coordinador")],-1);function g(e,a,t,n,r,g){const v=(0,s.up)("q-img"),_=(0,s.up)("q-card-section"),f=(0,s.up)("q-input"),y=(0,s.up)("q-btn"),b=(0,s.up)("q-form"),q=(0,s.up)("q-separator"),x=(0,s.up)("registro"),W=(0,s.up)("q-card"),h=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(h,{class:"flex flex-center column"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{class:"bg-dark shadow-20",style:{width:"320px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"text-center q-my-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{src:o()})])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:(0,l.iM)(n.loginFn,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{label:"Nº de cuenta / Usuario",standout:"",dark:"",dense:"",modelValue:n.authuser,"onUpdate:modelValue":a[0]||(a[0]=e=>n.authuser=e)},null,8,["modelValue"]),(0,s.Wm)(f,{class:"q-mt-sm",label:"Contraseña",standout:"",dark:"",dense:"",type:"password",modelValue:n.authpass,"onUpdate:modelValue":a[1]||(a[1]=e=>n.authpass=e)},null,8,["modelValue"]),(0,s._)("div",d,[(0,s.Wm)(y,{label:"Ingresar",color:"primary",unelevated:"",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(q,{spaced:""}),(0,s._)("div",i,[(0,s.Wm)(x)]),(0,s.Wm)(q,{spaced:""})])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{src:u()})])),_:1})])),_:1}),(0,s.Wm)(W,{class:"q-ma-sm fixed-bottom-left"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"text-center"},{default:(0,s.w5)((()=>[c,(0,s.Wm)(q),m,(0,s.Wm)(q),p,(0,s.Wm)(q),w])),_:1})])),_:1})])),_:1})}(0,s.Cn)();var v=t(1959),_=t(7874),f=t(8825),y=t(9582);const b={class:"text-center q-mt-sm"},q={class:"text-center q-mt-lg"},x=(0,s._)("div",{class:"text-center q-my-sm text-white text-h6"},"Registro exitoso.",-1),W=(0,s._)("div",{class:"text-center q-my-sm text-white text-body2"},"Tu registro será evaluado y en caso de cubrir los requisitos tu cuenta se activará.",-1);function h(e,a,t,n,o,r){const u=(0,s.up)("q-btn"),d=(0,s.up)("q-btn-toggle"),i=(0,s.up)("q-separator"),c=(0,s.up)("q-input"),m=(0,s.up)("q-icon"),p=(0,s.up)("q-form"),w=(0,s.up)("q-card-section"),g=(0,s.up)("q-card"),v=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{size:"sm",flat:"",label:"Nuevo usuario",padding:"0",color:"positive",onClick:a[0]||(a[0]=e=>n.dialog=!0)}),(0,s.Wm)(v,{modelValue:n.dialog,"onUpdate:modelValue":a[7]||(a[7]=e=>n.dialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"bg-dark shadow-20",style:{width:"320px"}},{default:(0,s.w5)((()=>[n.success?((0,s.wg)(),(0,s.j4)(w,{key:1},{default:(0,s.w5)((()=>[x,W])),_:1})):((0,s.wg)(),(0,s.j4)(w,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,l.iM)(n.signinFn,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",b,[(0,s.Wm)(d,{unelevated:"","toggle-color":"info","text-color":"white",modelValue:n.newuser.group,"onUpdate:modelValue":a[1]||(a[1]=e=>n.newuser.group=e),options:[{label:"Estudiante",value:"estudiante"},{label:"Docente",value:"docente"}]},null,8,["modelValue"])]),(0,s.Wm)(i,{spaced:""}),(0,s.Wm)(c,{modelValue:n.newuser.user,"onUpdate:modelValue":a[2]||(a[2]=e=>n.newuser.user=e),label:"estudiante"==n.newuser.group?"Nº de cuenta":"Usuario",rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue","label"]),(0,s.Wm)(c,{class:"q-mt-sm",modelValue:n.newuser.name,"onUpdate:modelValue":a[3]||(a[3]=e=>n.newuser.name=e),label:"Nombre",rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue"]),(0,s.Wm)(c,{class:"q-mt-sm",modelValue:n.newuser.email,"onUpdate:modelValue":a[4]||(a[4]=e=>n.newuser.email=e),type:"email",label:"Email",rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue"]),(0,s.Wm)(c,{class:"q-mt-sm",modelValue:n.newuser.password,"onUpdate:modelValue":a[6]||(a[6]=e=>n.newuser.password=e),label:"Contraseña",type:n.passview?"text":"password",rounded:"",standout:"",dark:"",dense:"",required:"",hint:"Al menos 6 caracteres.",pattern:".{6,}"},{append:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"cursor-pointer",color:"primary",name:n.passview?"visibility_off":"visibility",onClick:a[5]||(a[5]=e=>n.passview=!n.passview)},null,8,["name"])])),_:1},8,["modelValue","type"]),(0,s._)("div",q,[(0,s.Wm)(u,{label:"Registrar",color:"primary",unelevated:"",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1}))])),_:1})])),_:1},8,["modelValue"])])}(0,f.Z)();const V={setup(){const e=(0,f.Z)(),a=(0,_.oR)(),t=(0,v.iH)(!1),s=(0,v.iH)(!1),l=(0,v.iH)(!1),n=(0,v.iH)({user:"",name:"",email:"",password:"",group:"estudiante",active:!1}),o=()=>{a.dispatch("api/SaveUser",{user:n.value}).then((t=>{e.notify("Registro exitoso."),l.value=!0,a.dispatch("api/NewNotification",{description:"Registro: "+n.value.user,sendto:"/estudiantes"})})).catch((a=>{switch(e.notify(a.message),a.data){case"Username is already used!":e.notify("El Nº de cuenta o usuario ya esta registrado.");break;case"Email is already used!":e.notify("El correo electrónico ya esta registrado.");break}}))};return{dialog:t,signinFn:o,newuser:n,passview:s,success:l}}};var k=t(8240),Z=t(6778),Q=t(151),U=t(5589),C=t(5269),S=t(8761),N=t(5869),F=t(4842),H=t(4554),I=t(7518),R=t.n(I);V.render=h;const E=V;R()(V,"components",{QBtn:k.Z,QDialog:Z.Z,QCard:Q.Z,QCardSection:U.Z,QForm:C.Z,QBtnToggle:S.Z,QSeparator:N.Z,QInput:F.Z,QIcon:H.Z});const B={components:{registro:E},setup(){const e=(0,f.Z)(),a=(0,_.oR)(),t=(0,y.tv)(),s=(0,v.iH)(""),l=(0,v.iH)(""),n=async()=>{a.dispatch("api/Login",{user:s.value,password:l.value}).then((a=>{e.notify("Bienvenido"),t.push("/dashboard")})).catch((a=>{e.notify(a.message)}))};return{loginFn:n,authuser:s,authpass:l}},methods:{}};var D=t(4379),j=t(4027);B.render=g,B.__scopeId="data-v-212a7f8c";const M=B;R()(B,"components",{QPage:D.Z,QCard:Q.Z,QCardSection:U.Z,QImg:j.Z,QForm:C.Z,QInput:F.Z,QBtn:k.Z,QSeparator:N.Z})}}]);