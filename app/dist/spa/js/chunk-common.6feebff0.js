(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[64],{2614:(e,a,t)=>{"use strict";t.d(a,{Z:()=>U});var l=t(3673),o=t(2323),i=t(8880);const n=(0,l._)("div",{class:"text-body1 text-center text-info"},"DIRECTOR",-1),d=(0,l.Uk)("Eliminar"),s={class:"text-center"},u=(0,l._)("div",{class:"text-body1 text-center text-negative"},"LECTORES",-1),r=(0,l.Uk)("Eliminar"),c={class:"text-center"},m={class:"text-center text-body1 text-white"},p={class:"bg-white rounded-borders q-pa-sm"},v={class:"text-center"};function g(e,a,t,g,w,_){const f=(0,l.up)("q-separator"),h=(0,l.up)("q-item-section"),b=(0,l.up)("q-tooltip"),q=(0,l.up)("q-btn"),x=(0,l.up)("q-item"),k=(0,l.up)("q-list"),W=(0,l.up)("q-card-section"),y=(0,l.up)("q-select"),Z=(0,l.up)("q-form"),Q=(0,l.up)("q-card"),D=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(f,{class:"q-my-md",spaced:""}),n,(0,l.Wm)(k,{separator:""},{default:(0,l.w5)((()=>[g.docentes.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(g.directores,((e,a)=>((0,l.wg)(),(0,l.j4)(x,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{class:"text-bold"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(g.docenteName(e.docente)[0].name),1)])),_:2},1024),void 0==t.readonly?((0,l.wg)(),(0,l.j4)(h,{key:0,side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{icon:"delete",onClick:a=>g.deleteItem(e),size:"xs",padding:"4px",color:"negative"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[d])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1024)))),256)):(0,l.kq)("",!0)])),_:1}),(0,l._)("div",s,[0==g.directores.length&&void 0==t.readonly?((0,l.wg)(),(0,l.j4)(q,{key:0,class:"q-my-md",icon:"add",label:"Asignar director",color:"info",unelevated:"","no-caps":"",onClick:a[0]||(a[0]=e=>g.openDialog("director"))})):(0,l.kq)("",!0)]),(0,l.Wm)(f,{class:"q-my-md",spaced:""}),u,(0,l.Wm)(k,{separator:""},{default:(0,l.w5)((()=>[g.docentes.length?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(g.lectores,((e,a)=>((0,l.wg)(),(0,l.j4)(x,{dense:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(g.docenteName(e.docente)[0].name),1)])),_:2},1024),void 0==t.readonly?((0,l.wg)(),(0,l.j4)(h,{key:0,side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{icon:"delete",onClick:a=>g.deleteItem(e),size:"xs",padding:"4px",color:"negative"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[r])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1024)))),256)):(0,l.kq)("",!0)])),_:1}),(0,l._)("div",c,[void 0==t.readonly?((0,l.wg)(),(0,l.j4)(q,{key:0,class:"q-my-md",icon:"add",label:"Asignar lector",color:"secondary",unelevated:"","no-caps":"",onClick:a[1]||(a[1]=e=>g.openDialog("lector"))})):(0,l.kq)("",!0)]),(0,l.Wm)(D,{modelValue:g.dialog,"onUpdate:modelValue":a[3]||(a[3]=e=>g.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{class:"shadow-24 bg-dark full-width"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{onSubmit:(0,i.iM)(g.nuevoFN,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l._)("div",m,"Asignar "+(0,o.zw)("director"==g.nuevoTipo?"Director":"Lector"),1)])),_:1}),(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l.Wm)(y,{options:g.docentes,modelValue:g.nuevoItem,"onUpdate:modelValue":a[2]||(a[2]=e=>g.nuevoItem=e),"option-label":"name","map-options":"",standout:"bg-primary text-white",required:""},null,8,["options","modelValue"])])])),_:1}),(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l._)("div",v,[(0,l.Wm)(q,{icon:"add",label:"Asignar lector",color:"primary",unelevated:"","no-caps":"",type:"submit",disabled:!g.nuevoItem},null,8,["disabled"])])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])}var w=t(1959),_=t(8825),f=t(7874);const h={props:["asignacion","readonly"],setup(e){const a=(0,_.Z)(),t=(0,f.oR)(),l=(0,w.iH)(!1),o=(0,w.iH)([]),i=(0,w.iH)([]),n=(0,w.iH)([]),d=(0,w.iH)(null),s=(0,w.iH)("director"),u=e=>{s.value=e,l.value=!0,d.value=null},r=()=>{if(o.value.length>0)return!1;t.dispatch("api/GetUsersByGroup","docente").then((e=>{for(var a in o.value=[],e)e[a].active&&o.value.push(e[a])}))},c=()=>{var o={docente:d.value._id,tipo:s.value,asignacion:e.asignacion,coll:"asignacionesMiembros"};t.dispatch("api/SaveItem",o).then((e=>{a.notify("Docente asignado"),d.value=null,l.value=!1,p()}))},m=e=>o.value.filter((function(a,t,l){return a._id==e})),p=()=>{const a={"asignacion._id":e.asignacion._id};t.dispatch("api/GetAllDataFilteredV2",["asignacionesMiembros",a]).then((e=>{for(var a in i.value=[],n.value=[],e)"director"==e[a].tipo?i.value.push(e[a]):n.value.push(e[a])})),r()};p();const v=e=>{t.dispatch("api/RemoveItem",["asignacionesMiembros","_id",e._id]).then((e=>{p()}))};return{docentes:o,dialog:l,directores:i,lectores:n,openDialog:u,nuevoItem:d,nuevoTipo:s,nuevoFN:c,loadAsignados:p,docenteName:m,deleteItem:v}}};var b=t(5869),q=t(7011),x=t(3414),k=t(2035),W=t(8240),y=t(8870),Z=t(6778),Q=t(151),D=t(5269),C=t(5589),I=t(7208),H=t(7518),V=t.n(H);h.render=g;const U=h;V()(h,"components",{QSeparator:b.Z,QList:q.Z,QItem:x.Z,QItemSection:k.Z,QBtn:W.Z,QTooltip:y.Z,QDialog:Z.Z,QCard:Q.Z,QForm:D.Z,QCardSection:C.Z,QSelect:I.Z})},2360:(e,a,t)=>{"use strict";t.d(a,{Z:()=>A});var l=t(3673),o=t(2323);const i={class:"relative-position"},n=(0,l._)("div",{class:"text-h6 text-dark q-my-md"},"Periodos",-1),d={key:0,class:"text-center"},s=(0,l._)("div",{class:"text-center text-body1 text-white"},"Asignar periodos",-1),u=(0,l.Uk)("Inicio: "),r={class:"text-bold"},c=(0,l.Uk)("Fin: "),m={class:"text-bold"},p={class:"text-center"},v={class:"row q-col-gutter-md"},g={class:"col-12 col-sm-4"},w={class:"text-h6"},_=(0,l._)("div",{class:"text-caption text-grey"},[(0,l.Uk)("2021/11/01"),(0,l._)("span",{class:"text-primary text-bold q-mx-sm"},"- "),(0,l.Uk)("2021/12/31")],-1);function f(e,a,t,f,h,b){const q=(0,l.up)("q-inner-loading"),x=(0,l.up)("q-btn"),k=(0,l.up)("q-card-section"),W=(0,l.up)("q-item-label"),y=(0,l.up)("q-item-section"),Z=(0,l.up)("q-checkbox"),Q=(0,l.up)("q-item"),D=(0,l.up)("q-card"),C=(0,l.up)("q-dialog"),I=(0,l.up)("asesores");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(q,{showing:f.loading},null,8,["showing"]),n,f.loading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",d,[(0,l.Wm)(x,{class:"q-my-md",label:"Asignar periodos",color:"primary",unelevated:"","no-caps":"",onClick:a[0]||(a[0]=e=>f.dialog=!0)})])),(0,l.Wm)(C,{modelValue:f.dialog,"onUpdate:modelValue":a[2]||(a[2]=e=>f.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{class:"shadow-24 bg-dark full-width"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[s])),_:1}),(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.periodos,((e,t)=>((0,l.wg)(),(0,l.j4)(Q,{class:"bg-white rounded-borders q-my-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W,{class:"text-bold text-body1 text-primary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.name),1)])),_:2},1024),(0,l.Wm)(W,{caption:""},{default:(0,l.w5)((()=>[u,(0,l._)("span",r,(0,o.zw)(e.startDate),1)])),_:2},1024),(0,l.Wm)(W,{caption:""},{default:(0,l.w5)((()=>[c,(0,l._)("span",m,(0,o.zw)(e.endDate),1)])),_:2},1024)])),_:2},1024),(0,l.Wm)(y,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{modelValue:f.asignadosNuevos,"onUpdate:modelValue":a[1]||(a[1]=e=>f.asignadosNuevos=e),val:e},null,8,["modelValue","val"])])),_:2},1024)])),_:2},1024)))),256))])),_:1}),(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l.Wm)(x,{label:"Guardar",color:"primary",unelevated:"","no-caps":"",onClick:f.asignarFN},null,8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l._)("div",v,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(f.asignaciones,((e,a)=>((0,l.wg)(),(0,l.iD)("div",g,[(0,l.Wm)(D,{class:"shadow-24"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"text-center"},{default:(0,l.w5)((()=>[(0,l._)("div",w,(0,o.zw)(e.periodo.name),1),_])),_:2},1024),(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(I,{asignacion:e,key:e._id},null,8,["asignacion"])])),_:2},1024)])),_:2},1024)])))),256))])])}var h=t(1959),b=t(8825),q=t(7874),x=t(2614);const k={props:["estudianteid"],components:{asesores:x.Z},setup(e){const a=(0,b.Z)(),t=(0,q.oR)(),l=(0,h.iH)(!0),o=(0,h.iH)([]),i=(0,h.iH)(!1),n=(0,h.iH)([]),d=()=>{for(var l in i.value=!1,n.value){const o={user_id:e.estudianteid,periodo:n.value[l],coll:"asignaciones"};t.dispatch("api/SaveItem",o).then((e=>{a.notify("Periodos asignados a estudiante"),r()}))}},s=()=>{t.dispatch("api/GetAllData","periodos").then((e=>{o.value=e,r()}))},u=(0,h.iH)([]),r=()=>{t.dispatch("api/GetAllDataFiltered",["asignaciones","user_id",e.estudianteid]).then((e=>{for(var a in u.value=e,e)o.value=o.value.filter((function(t,l,o){return t._id!=e[a].periodo._id}));l.value=!1}))};return s(),{dialog:i,periodos:o,asignadosNuevos:n,asignarFN:d,asignaciones:u,loading:l,loadAsignaciones:r}}};var W=t(6941),y=t(8240),Z=t(6778),Q=t(151),D=t(5589),C=t(3414),I=t(2035),H=t(2350),V=t(5735),U=t(7518),S=t.n(U);k.render=f;const A=k;S()(k,"components",{QInnerLoading:W.Z,QBtn:y.Z,QDialog:Z.Z,QCard:Q.Z,QCardSection:D.Z,QItem:C.Z,QItemSection:I.Z,QItemLabel:H.Z,QCheckbox:V.Z})},8623:(e,a,t)=>{"use strict";t.d(a,{Z:()=>k});var l=t(3673),o=t(8880);const i={class:"q-ml-sm"},n=(0,l.Uk)("Editar"),d=(0,l._)("div",{class:"text-h6 text-white"},"Editar",-1),s={class:"text-center q-mt-sm"};function u(e,a,t,u,r,c){const m=(0,l.up)("q-tooltip"),p=(0,l.up)("q-btn"),v=(0,l.up)("q-card-section"),g=(0,l.up)("q-input"),w=(0,l.up)("q-separator"),_=(0,l.up)("q-form"),f=(0,l.up)("q-card"),h=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("span",i,[(0,l.Wm)(p,{icon:"brush",flat:"",padding:"2px",color:"grey",size:"xs",onClick:a[0]||(a[0]=e=>u.dialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[n])),_:1})])),_:1}),(0,l.Wm)(h,{modelValue:u.dialog,"onUpdate:modelValue":a[2]||(a[2]=e=>u.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"bg-dark shadow-20 full-width",style:{"min-width":"320px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"text-center"},{default:(0,l.w5)((()=>[d])),_:1}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{onSubmit:(0,o.iM)(u.saveit,["prevent"])},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{modelValue:u.thevalue,"onUpdate:modelValue":a[1]||(a[1]=e=>u.thevalue=e),label:u.thelabel,rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue","label"]),(0,l.Wm)(w,{spaced:""}),(0,l._)("div",s,[(0,l.Wm)(p,{label:"Guardar",color:"secondary",unelevated:"",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var r=t(1959),c=t(7874);const m={props:["value","field","label","coll","id","user_id"],setup(e,a){const t=(0,c.oR)(),l=(0,r.iH)(!1),o=(0,r.iH)(e.value),i=(0,r.iH)(e.label),n=(0,r.iH)({_id:e.id,coll:e.coll}),d=()=>{e.user_id&&(n.value["user_id"]=e.user_id),n.value[e.field]=o.value,t.dispatch("api/SaveItem",n.value).then((t=>{a.emit("modified"),l.value=!1,n.value={_id:e.id,coll:e.coll}}))};return{dialog:l,thevalue:o,thelabel:i,saveit:d}}};var p=t(8240),v=t(8870),g=t(6778),w=t(151),_=t(5589),f=t(5269),h=t(4842),b=t(5869),q=t(7518),x=t.n(q);m.render=u;const k=m;x()(m,"components",{QBtn:p.Z,QTooltip:v.Z,QDialog:g.Z,QCard:w.Z,QCardSection:_.Z,QForm:f.Z,QInput:h.Z,QSeparator:b.Z})},9901:(e,a,t)=>{e.exports=t.p+"img/logodh.5e313666.png"},9881:(e,a,t)=>{e.exports=t.p+"img/logouam.599fc2e0.png"}}]);