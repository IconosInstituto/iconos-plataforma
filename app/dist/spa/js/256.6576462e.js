"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[256],{6256:(e,a,n)=>{n.r(a),n.d(a,{default:()=>P});var l=n(3673),o=n(2323);const s={class:"row q-col-gutter-md"},i={class:"col-12"},t={class:"text-bold text-primary text-white"},d=(0,l._)("div",{class:"text-h6 text-dark q-my-md"},"Asignar estudiantes",-1),r={class:"row q-col-gutter-md"},u={class:"col-12"};function c(e,a,n,c,p,m){const w=(0,l.up)("q-icon"),g=(0,l.up)("q-card-section"),f=(0,l.up)("q-card"),_=(0,l.up)("q-inner-loading"),v=(0,l.up)("q-td"),h=(0,l.up)("q-btn"),k=(0,l.up)("q-tr"),q=(0,l.up)("q-table"),b=(0,l.up)("periodos"),W=(0,l.up)("q-dialog"),y=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(y,{padding:""},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("div",i,[(0,l.Wm)(f,{class:"shadow-24 bg-dark"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"q-mr-sm",name:"assignment_ind",color:"white",size:"md"}),(0,l._)("span",t,(0,o.zw)(c.user.name),1)])),_:1})])),_:1})])]),d,(0,l._)("div",r,[(0,l._)("div",u,[(0,l.Wm)(f,{class:"shadow-24"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{showing:c.loading},null,8,["showing"]),c.loading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(q,{key:0,class:"shadow-0",loading:c.loading,"no-data-label":"Sin datos",rows:c.estudiantes,columns:c.columns,dense:""},{body:(0,l.w5)((e=>[(0,l.Wm)(k,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{key:"name",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,l.Wm)(v,{key:"generacion",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.generacion.name),1)])),_:2},1032,["props"]),(0,l.Wm)(v,{key:"periodos",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{label:"Periodos",color:"primary",onClick:a=>c.openPeriodos(e.row),size:"sm"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["loading","rows","columns"]))])),_:1})])),_:1})])]),(0,l.Wm)(W,{modelValue:c.dialog,"onUpdate:modelValue":a[0]||(a[0]=e=>c.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"full-width",style:{"max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[c.activeuser?((0,l.wg)(),(0,l.j4)(b,{key:0,estudianteid:c.activeuser.user_id},null,8,["estudianteid"])):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var p=n(1959),m=n(9582),w=n(7874),g=n(8623),f=n(8603),_=n.n(f),v=n(9903);const h={components:{editThis:g.Z,periodos:v.Z},setup(){const e=(0,m.yj)(),a=(0,w.oR)(),n=(0,p.iH)({name:"",user:""}),l=(0,p.iH)({generacion:""}),o=(0,p.iH)(null),s=(0,p.iH)(!1),i=(0,p.iH)(!0),t=(0,p.iH)([]),d=[{name:"name",label:"Nombre",field:"name",align:"left"},{name:"generacion",label:"GeneraciÃ³n",field:"generacion",align:"left"},{name:"periodos",label:"Periodos",align:"center"}],r=()=>{a.dispatch("api/GetSingleUser",e.params.id).then((e=>{n.value=e,a.dispatch("api/GetUsersByGroup","estudiante").then((e=>{for(var n in t.value=[],e)e[n].active&&t.value.push(e[n]);a.dispatch("api/GetAllData","estudiantes").then((e=>{for(var a in t.value){const n=e.filter((function(e,n,l){return e.user_id==t.value[a]._id}));_().merge(t.value[a],n[0])}i.value=!1}))}))}))};r();const u=e=>{s.value=!0,o.value=e};return{user:n,userData:l,dialog:s,loadItem:r,loading:i,columns:d,estudiantes:t,openPeriodos:u,activeuser:o}}};var k=n(4379),q=n(151),b=n(5589),W=n(4554),y=n(6941),Z=n(3243),Q=n(8186),x=n(3884),C=n(8240),H=n(6778),z=n(7518),G=n.n(z);h.render=c;const P=h;G()(h,"components",{QPage:k.Z,QCard:q.Z,QCardSection:b.Z,QIcon:W.Z,QInnerLoading:y.Z,QTable:Z.Z,QTr:Q.Z,QTd:x.Z,QBtn:C.Z,QDialog:H.Z})}}]);