"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[76],{6076:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ha});var o=t(3673);const s={key:0,class:"row q-col-gutter-md"},l={class:"col-12"},i={class:"col-12"},n={class:"col-12"};function d(e,a,t,d,c,r){const u=(0,o.up)("estudianteCuenta"),m=(0,o.up)("estudianteInformacion"),p=(0,o.up)("estudiantePeriodos"),v=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(v,{padding:""},{default:(0,o.w5)((()=>[d.student?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",l,[(0,o.Wm)(u,{student:d.student},null,8,["student"])]),(0,o._)("div",i,[(0,o.Wm)(m,{student:d.student},null,8,["student"])]),(0,o._)("div",n,[(0,o.Wm)(p,{student:d.student},null,8,["student"])])])):(0,o.kq)("",!0)])),_:1})}var c=t(1959),r=t(8825),u=t(7874),m=t(9582),p=t(8880);const v={class:"col-6"},g={class:"text-caption text-white"},w=(0,o.Uk)("Estudiante "),_={key:0,class:"text-secondary"},y={key:0,class:"col-6 text-right text-white"},f={class:"col-12"},x={class:"col-6"},q={class:"col-6"},b={key:1,class:"col-6 text-center"},k={key:2,class:"col-6 text-center"},W={key:3,class:"col-12 text-center"};function h(e,a,t,s,l,i){const n=(0,o.up)("q-toggle"),d=(0,o.up)("q-icon"),c=(0,o.up)("q-input"),r=(0,o.up)("q-btn"),u=(0,o.up)("q-form"),m=(0,o.up)("q-card-section"),h=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(h,{class:"shadow-24 bg-dark"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"row q-col-gutter-md items-center",onSubmit:(0,p.iM)(s.updateAccount,["prevent"])},{default:(0,o.w5)((()=>[(0,o._)("div",v,[(0,o._)("div",g,[w,t.student.user.active?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",_,"deshabilitado"))])]),t.student.user.active?((0,o.wg)(),(0,o.iD)("div",y,[(0,o.Wm)(n,{label:"Modificar",modelValue:s.modifyAccount,"onUpdate:modelValue":a[0]||(a[0]=e=>s.modifyAccount=e)},null,8,["modelValue"])])):(0,o.kq)("",!0),(0,o._)("div",f,[(0,o.Wm)(c,{label:"Nombre",modelValue:t.student.user.name,"onUpdate:modelValue":a[1]||(a[1]=e=>t.student.user.name=e),dark:"",standout:"",dense:"",readonly:!s.modifyAccount},{prepend:(0,o.w5)((()=>[(0,o.Wm)(d,{name:"person"})])),_:1},8,["modelValue","readonly"])]),(0,o._)("div",x,[(0,o.Wm)(c,{label:"Cuenta",modelValue:t.student.user.user,"onUpdate:modelValue":a[2]||(a[2]=e=>t.student.user.user=e),dark:"",standout:"",dense:"",readonly:!s.modifyAccount},{prepend:(0,o.w5)((()=>[(0,o.Wm)(d,{name:"account_box"})])),_:1},8,["modelValue","readonly"])]),(0,o._)("div",q,[(0,o.Wm)(c,{label:"Correo electrónico",modelValue:t.student.user.email,"onUpdate:modelValue":a[3]||(a[3]=e=>t.student.user.email=e),dark:"",standout:"",dense:"",readonly:!s.modifyAccount},null,8,["modelValue","readonly"])]),s.modifyAccount&&t.student.user.active?((0,o.wg)(),(0,o.iD)("div",b,[(0,o.Wm)(r,{label:"Deshabilitar",onClick:s.disableAccount,color:"negative",unelevated:"",size:"sm","no-caps":""},null,8,["onClick"])])):(0,o.kq)("",!0),s.modifyAccount&&t.student.user.active?((0,o.wg)(),(0,o.iD)("div",k,[(0,o.Wm)(r,{label:"Guardar",color:"primary",unelevated:"",type:"submit"})])):(0,o.kq)("",!0),t.student.user.active?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",W,[(0,o.Wm)(r,{label:"Habilitar usuario",onClick:s.enableAccount,color:"secondary",unelevated:""},null,8,["onClick"])]))])),_:1},8,["onSubmit"])])),_:1})])),_:1})}const D={props:["student"],setup(e){const a=(0,r.Z)(),t=(0,u.oR)(),o=((0,m.tv)(),(0,c.iH)(e.student)),s=(0,c.iH)(!1),l=async()=>{o.value.user.active=!1,s.value=!1,t.dispatch("api/SaveUser",{user:o.value.user})},i=async()=>{o.value.user.active=!0,s.value=!1,t.dispatch("api/SaveUser",{user:o.value.user})},n=async()=>{try{await t.dispatch("api/SaveUser",{user:o.value.user});a.notify("Datos guardados"),s.value=!1}catch(e){a.notify(e.message)}};return{modifyAccount:s,disableAccount:l,enableAccount:i,updateAccount:n}}};var V=t(151),Z=t(5589),A=t(5269),C=t(8886),U=t(4842),Q=t(4554),z=t(8240),H=t(7518),S=t.n(H);D.render=h;const I=D;S()(D,"components",{QCard:V.Z,QCardSection:Z.Z,QForm:A.Z,QToggle:C.Z,QInput:U.Z,QIcon:Q.Z,QBtn:z.Z});var E=t(2323);const L={class:"row q-col-gutter-md items-center"},j=(0,o._)("div",{class:"col-12"},[(0,o._)("div",{class:"text-caption"},"Información ")],-1),G={class:"col-4"},T={class:"col-4"},R={class:"col-4"},B={class:"row q-col-gutter-md items-center"},P=(0,o._)("div",{class:"col-12"},[(0,o._)("div",{class:"text-caption"},"Investigación")],-1),Y={class:"col-12 text-bold text-primary"};function O(e,a,t,s,l,i){const n=(0,o.up)("q-select"),d=(0,o.up)("q-card-section"),c=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",L,[j,(0,o._)("div",G,[(0,o.Wm)(n,{label:"Generación:",modelValue:t.student.generacion,"onUpdate:modelValue":[a[0]||(a[0]=e=>t.student.generacion=e),s.saveThis],standout:"bg-primary text-white",dense:"",options:s.generaciones,"option-value":"_id","option-label":"name","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,o._)("div",T,[(0,o.Wm)(n,{label:"Beca:",modelValue:t.student.beca,"onUpdate:modelValue":[a[1]||(a[1]=e=>t.student.beca=e),s.saveThis],standout:"bg-primary text-white",dense:"",options:["CONACYT","SIN BECA"]},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",R,[(0,o.Wm)(n,{label:"Estatus:",modelValue:t.student.status,"onUpdate:modelValue":[a[2]||(a[2]=e=>t.student.status=e),s.saveThis],standout:"bg-primary text-white",dense:"",options:["ACTIVO","EGRESADO","BAJA"]},null,8,["modelValue","onUpdate:modelValue"])])])])),_:1})])),_:1}),(0,o.Wm)(c,{class:"shadow-24 q-mt-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",B,[P,(0,o._)("div",Y,(0,E.zw)(t.student.tituloInvestigacion||"- -"),1)])])),_:1})])),_:1})])}var F=t(515),K=t.n(F);const N={props:["student"],setup(e){const a=(0,r.Z)(),t=(0,u.oR)(),o=((0,m.tv)(),(0,c.iH)(e.student)),s=(0,c.iH)([]),l=async()=>{s.value=await t.dispatch("api/GetAllData","generaciones")};l();const i=async()=>{const e=K()(K()({},o.value),{},{coll:"estudiantes"});delete e.user,delete e.periodo_id,delete e.coloquio,delete e.tituloInvestigacion;t.dispatch("api/SaveItem",e);a.notify("Guardado")};return{saveThis:i,generaciones:s}}};var $=t(7208);N.render=O;const J=N;S()(N,"components",{QCard:V.Z,QCardSection:Z.Z,QSelect:$.Z});const M={class:"row q-col-gutter-md items-center q-pb-md"},X=(0,o._)("div",{class:"col-6"},[(0,o._)("div",{class:"text-caption"},"Periodos")],-1),ee={class:"col-6 text-right"},ae={class:"row q-col-gutter-md"},te={class:"col-md-4 col-12"},oe={class:"text-h5 text-bold text-dark"},se={class:"text-caption text-grey"},le=(0,o._)("span",{class:"text-primary text-bold q-mx-sm"},"- ",-1),ie=(0,o._)("div",{class:"text-caption text-grey"},"Asesores",-1),ne={key:0,class:"q-mt-md"},de={class:"text-body1 text-white"},ce={class:"text-bold text-capitalize text-accent"},re={class:"text-body1 text-blue-grey"},ue={class:"text-bold text-capitalize text-grey"},me={class:"text-center"},pe={class:"text-caption text-grey"},ve=(0,o.Uk)("Fechas"),ge=(0,o.Uk)("Editar fechas"),we={key:0,class:"q-mt-md"},_e={key:1},ye=(0,o._)("div",{class:"text-caption text-grey"},"1er Coloquio",-1),fe={class:"text-body1"},xe=(0,o._)("div",{class:"text-caption text-grey"},"2do Coloquio",-1),qe={class:"text-body1"},be=(0,o._)("div",{class:"text-caption text-grey"},"Examen de candidatura",-1),ke={class:"text-body1"},We=(0,o._)("div",{class:"text-caption text-grey"},"Examen de grado",-1),he={class:"text-body1"};function De(e,a,t,s,l,i){const n=(0,o.up)("periodoInscribir"),d=(0,o.up)("datesprogress"),c=(0,o.up)("q-card-section"),r=(0,o.up)("eliminarAsesor"),u=(0,o.up)("q-card"),m=(0,o.up)("administrarAsesores"),p=(0,o.up)("q-tooltip"),v=(0,o.up)("q-toggle"),g=(0,o.up)("q-input"),w=(0,o.up)("q-btn"),_=(0,o.up)("periodoDesinscribir");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(u,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",M,[X,(0,o._)("div",ee,[s.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(n,{key:0,yainscrito:s.periodosAsignados,student:t.student,onUpdated:s.loadItems},null,8,["yainscrito","student","onUpdated"]))])]),(0,o._)("div",ae,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.periodosAsignados,((e,a)=>((0,o.wg)(),(0,o.iD)("div",te,[(0,o.Wm)(u,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o._)("div",oe,(0,E.zw)(e.periodo.name),1),(0,o._)("div",se,[(0,o.Uk)((0,E.zw)(e.periodo.startDate),1),le,(0,o.Uk)((0,E.zw)(e.periodo.endDate),1)]),(0,o.Wm)(d,{date1:e.periodo.startDate,date2:e.periodo.endDate},null,8,["date1","date2"])])),_:2},1024),(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[ie,e.asesores?((0,o.wg)(),(0,o.iD)("div",ne,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.asesores[0],((e,t)=>((0,o.wg)(),(0,o.j4)(u,{class:"bg-dark shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",de,(0,E.zw)(e.docente_user.name),1),(0,o._)("div",ce,(0,E.zw)(e.tipo),1),(0,o.Wm)(r,{asignacion:e,onUpdatedAsesor:e=>s.loadAsesores(a)},null,8,["asignacion","onUpdatedAsesor"])])),_:2},1024)])),_:2},1024)))),256)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.asesores[1],((e,t)=>((0,o.wg)(),(0,o.j4)(u,{class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",re,(0,E.zw)(e.docente_user.name),1),(0,o._)("div",ue,(0,E.zw)(e.tipo),1),(0,o.Wm)(r,{asignacion:e,onUpdatedAsesor:e=>s.loadAsesores(a)},null,8,["asignacion","onUpdatedAsesor"])])),_:2},1024)])),_:2},1024)))),256))])):(0,o.kq)("",!0),(0,o._)("div",me,[e.asesores?((0,o.wg)(),(0,o.j4)(m,{key:0,asignacion:e,onUpdateAsesores:e=>s.loadAsesores(a)},null,8,["asignacion","onUpdateAsesores"])):(0,o.kq)("",!0)])])),_:2},1024),(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o._)("div",pe,[ve,e.activeDates?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(v,{key:0,modelValue:e.activeDates,"onUpdate:modelValue":a=>e.activeDates=a,size:"xs"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[ge])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"]))]),e.activeDates?((0,o.wg)(),(0,o.iD)("div",we,[(0,o.Wm)(g,{class:"q-mt-sm",label:"1er Coloquio",type:"date",modelValue:e.coloquio1,"onUpdate:modelValue":a=>e.coloquio1=a,standout:"bg-primary text-white","stack-label":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(g,{class:"q-mt-sm",label:"2do Coloquio",type:"date",modelValue:e.coloquio2,"onUpdate:modelValue":a=>e.coloquio2=a,standout:"bg-primary text-white","stack-label":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(g,{class:"q-mt-sm",label:"Examen de candidatura",type:"date",modelValue:e.candidatura,"onUpdate:modelValue":a=>e.candidatura=a,standout:"bg-primary text-white","stack-label":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(g,{class:"q-mt-sm",label:"Examen de grado",type:"date",modelValue:e.grado,"onUpdate:modelValue":a=>e.grado=a,standout:"bg-primary text-white","stack-label":"",dense:""},null,8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(w,{class:"q-mt-md",label:"Guardar fechas",unelevated:"",color:"positive",size:"sm","no-caps":"",onClick:a=>s.saveDates(e)},null,8,["onClick"])])):((0,o.wg)(),(0,o.iD)("div",_e,[void 0!=e.coloquio1?((0,o.wg)(),(0,o.j4)(u,{key:0,class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-py-xs"},{default:(0,o.w5)((()=>[ye,(0,o._)("div",fe,(0,E.zw)(e.coloquio1),1)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0),void 0!=e.coloquio2?((0,o.wg)(),(0,o.j4)(u,{key:1,class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-py-xs"},{default:(0,o.w5)((()=>[xe,(0,o._)("div",qe,(0,E.zw)(e.coloquio2),1)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0),void 0!=e.candidatura?((0,o.wg)(),(0,o.j4)(u,{key:2,class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-py-xs"},{default:(0,o.w5)((()=>[be,(0,o._)("div",ke,(0,E.zw)(e.candidatura),1)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0),void 0!=e.grado?((0,o.wg)(),(0,o.j4)(u,{key:3,class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-py-xs"},{default:(0,o.w5)((()=>[We,(0,o._)("div",he,(0,E.zw)(e.grado),1)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0)]))])),_:2},1024)])),_:2},1024),(0,o.Wm)(_,{asignacion:e,key:a},null,8,["asignacion"])])))),256))])])),_:1})])),_:1})])}var Ve=t(4131);const Ze=(0,o._)("div",{class:"text-caption text-grey"},"Para cambiar de director primero debe elimnar al que se encuentra asignado.",-1),Ae={class:"text-center"};function Ce(e,a,t,s,l,i){const n=(0,o.up)("q-btn"),d=(0,o.up)("q-item-section"),c=(0,o.up)("q-checkbox"),r=(0,o.up)("q-item"),u=(0,o.up)("q-list"),m=(0,o.up)("q-separator"),p=(0,o.up)("q-card-section"),v=(0,o.up)("q-card"),g=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{class:"q-mt-md",label:"Asignar asesores",onClick:s.openDialog,color:"positive",unelevated:"","no-caps":"",size:"sm"},null,8,["onClick"]),(0,o.Wm)(g,{modelValue:s.dialog,"onUpdate:modelValue":a[2]||(a[2]=e=>s.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{dense:"",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.docentes,((e,t)=>((0,o.wg)(),(0,o.j4)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,(0,E.zw)(e.name),1)])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{label:"Director",val:e._id,modelValue:s.directorList,"onUpdate:modelValue":a[0]||(a[0]=e=>s.directorList=e),disable:s.DirectorisLector(e._id)},null,8,["val","modelValue","disable"])])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{label:"Lector",val:e._id,modelValue:s.lectorList,"onUpdate:modelValue":a[1]||(a[1]=e=>s.lectorList=e),color:"secondary",disable:s.LectorisDirector(e._id)},null,8,["val","modelValue","disable"])])),_:2},1024)])),_:2},1024)))),256))])),_:1}),s.directorListOriginal.length>0?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(m,{spaced:""}),Ze],64)):(0,o.kq)("",!0),(0,o.Wm)(m,{spaced:""}),(0,o._)("div",Ae,[(0,o.Wm)(n,{label:"Guardar asesores",color:"primary",unelevated:"",onClick:s.saveItems,"no-caps":""},null,8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const Ue={props:["asignacion"],setup(e,a){const t=(0,r.Z)(),s=(0,u.oR)(),l=((0,m.tv)(),(0,o.f3)("$_")),i=(0,c.iH)(!1),n=(0,c.iH)(null),d=(0,c.iH)([]),p=(0,c.iH)([]),v=(0,c.iH)([]),g=(0,c.iH)([]),w=(0,c.iH)(e.asignacion),_=e=>{const a=v.value.includes(e),t=p.value.includes(e);return a||t},y=e=>{const a=g.value.includes(e),t=d.value.length>0;return a||t},f=async()=>{n.value=await s.dispatch("api/GetUsersByGroup","docente"),i.value=!0},x=()=>{const e=w.value.asesores[0];for(var a in e)d.value.push(e[a].docente),v.value.push(e[a].docente);const t=w.value.asesores[1];for(var o in t)p.value.push(t[o].docente),g.value.push(t[o].docente)};x(),(0,o.YP)((()=>v.value),((e,a)=>{v.value.length>1&&v.value.shift()}));const q=async()=>{const o=l.difference(v.value,d.value),n=l.difference(d.value,v.value),c=l.difference(g.value,p.value),r=l.difference(p.value,g.value);l.merge(n,r);let u=0;for(var m in o){const a=o[m],t=e.asignacion;delete t.asesores;let l={docente:a,asignacion:t,tipo:"director",coll:"asesores"};await s.dispatch("api/SaveItem",l);u++}for(var m in c){const a=c[m],t=e.asignacion;delete t.asesores;const o={docente:a,asignacion:t,tipo:"lector",coll:"asesores"};await s.dispatch("api/SaveItem",o);u++}0==o.length&&0==c.length?(i.value=!1,t.notify("Sin cambios por realizar")):(1==u?t.notify("1 asesor asignado."):t.notify(u+" asesor asignados."),a.emit("updateAsesores"))};return{dialog:i,openDialog:f,docentes:n,directorList:v,lectorList:g,saveItems:q,LectorisDirector:_,DirectorisLector:y,directorListOriginal:d,lectorListOriginal:p}}};var Qe=t(6778),ze=t(7011),He=t(3414),Se=t(2035),Ie=t(5735),Ee=t(5869);Ue.render=Ce;const Le=Ue;S()(Ue,"components",{QBtn:z.Z,QDialog:Qe.Z,QCard:V.Z,QCardSection:Z.Z,QList:ze.Z,QItem:He.Z,QItemSection:Se.Z,QCheckbox:Ie.Z,QSeparator:Ee.Z});const je=(0,o.Uk)("Eliminar asesor"),Ge=(0,o.Uk)("Eliminar asesor"),Te=(0,o._)("div",{class:"text-body2"},"Se eliminará al asesor",-1),Re={class:"text-h6"},Be=(0,o._)("div",{class:"text-body2"},"del periodo",-1),Pe={class:"text-h6"},Ye=(0,o._)("div",{class:"text-h6 text-negative"},"El contenido escrito en el reporte por el asesor será eliminado y no se podrá recuperar.",-1),Oe={class:"text-left"},Fe=(0,o._)("div",{class:"text-caption text-grey"},"Análisis",-1),Ke={class:"text-body2 text-grey"},Ne=(0,o._)("div",{class:"text-caption text-grey"},"Estructura",-1),$e={class:"text-body2 text-grey"},Je=(0,o._)("div",{class:"text-caption text-grey"},"Redacción",-1),Me={class:"text-body2 text-grey"},Xe=(0,o._)("div",{class:"text-caption text-grey"},"Argumentación",-1),ea={class:"text-body2 text-grey"};function aa(e,a,t,s,l,i){const n=(0,o.up)("q-tooltip"),d=(0,o.up)("q-btn"),c=(0,o.up)("q-toolbar-title"),r=(0,o.up)("q-toolbar"),u=(0,o.up)("q-separator"),m=(0,o.up)("q-card-section"),p=(0,o.up)("q-card"),v=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(d,{class:"absolute-bottom-right q-ma-sm",icon:"delete",onClick:s.openDialog,color:"negative","no-caps":"",size:"xs",unelevated:"",round:""},{default:(0,o.w5)((()=>[(0,o.Wm)(n,null,{default:(0,o.w5)((()=>[je])),_:1})])),_:1},8,["onClick"]),(0,o.Wm)(v,{modelValue:s.dialog,"onUpdate:modelValue":a[0]||(a[0]=e=>s.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"bg-negative text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[Ge])),_:1})])),_:1}),(0,o.Wm)(m,{class:"text-center"},{default:(0,o.w5)((()=>[Te,(0,o._)("div",Re,(0,E.zw)(t.asignacion.docente_user.name),1),Be,(0,o._)("div",Pe,(0,E.zw)(t.asignacion.asignacion.periodo.name),1),(0,o.Wm)(u,{spaced:""}),t.asignacion.analisis||t.asignacion.estructura||t.asignacion.redaccion||t.asignacion.argumentacion?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[Ye,(0,o._)("div",Oe,[(0,o.Wm)(u),Fe,(0,o._)("div",Ke,(0,E.zw)(t.asignacion.analisis.comentario),1),(0,o.Wm)(u),Ne,(0,o._)("div",$e,(0,E.zw)(t.asignacion.estructura.comentario),1),(0,o.Wm)(u),Je,(0,o._)("div",Me,(0,E.zw)(t.asignacion.redaccion.comentario),1),(0,o.Wm)(u),Xe,(0,o._)("div",ea,(0,E.zw)(t.asignacion.argumentacion.comentario),1)])],64)):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(m,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{color:"negative",label:"Eliminar asesor",onClick:s.deleteAsesor},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const ta={props:["asignacion"],setup(e,a){const t=(0,r.Z)(),s=(0,u.oR)(),l=((0,m.tv)(),(0,o.f3)("$_"),(0,c.iH)(!1)),i=()=>{l.value=!0},n=async()=>{await s.dispatch("api/RemoveItem",["asesores","_id",e.asignacion._id]);l.value=!1,a.emit("updatedAsesor"),t.notify("Asesor eliminado")};return{dialog:l,openDialog:i,deleteAsesor:n}}};var oa=t(8870),sa=t(9570),la=t(3747);ta.render=aa;const ia=ta;S()(ta,"components",{QBtn:z.Z,QTooltip:oa.Z,QDialog:Qe.Z,QCard:V.Z,QToolbar:sa.Z,QToolbarTitle:la.Z,QCardSection:Z.Z,QSeparator:Ee.Z});const na=(0,o._)("div",{class:"text-caption"},"Periodos disponibles",-1),da={class:"text-h6"},ca={class:"text-caption text-grey"},ra=(0,o._)("strong",null,"-",-1),ua={key:0,class:"text-primary"};function ma(e,a,t,s,l,i){const n=(0,o.up)("q-btn"),d=(0,o.up)("q-item-section"),c=(0,o.up)("q-item"),r=(0,o.up)("q-list"),u=(0,o.up)("q-card-section"),m=(0,o.up)("q-card"),p=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{label:"Inscribir a periodo",unelevated:"",color:"primary","no-caps":"",onClick:s.openDialog},null,8,["onClick"]),(0,o.Wm)(p,{modelValue:s.dialog,"onUpdate:modelValue":a[0]||(a[0]=e=>s.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[na,(0,o.Wm)(r,{separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.periodos,((e,a)=>((0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",da,(0,E.zw)(e.name),1),(0,o._)("div",ca,[(0,o.Uk)((0,E.zw)(e.startDate)+" ",1),ra,(0,o.Uk)(" "+(0,E.zw)(e.endDate),1)]),e.actual?((0,o.wg)(),(0,o.iD)("div",ua,"Actual")):(0,o.kq)("",!0)])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{label:"Inscribir a periodo",unelevated:"",color:"primary",size:"sm","no-caps":"",onClick:a=>s.inscribir(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}t(8603);const pa={props:["yainscrito","student"],setup(e,a){const t=(0,r.Z)(),s=(0,u.oR)(),l=((0,m.tv)(),(0,o.f3)("$_")),i=(0,c.iH)(!1),n=()=>{i.value=!0,g()},d=[],p=()=>{for(var a in e.yainscrito)d.push(JSON.parse(JSON.stringify(e.yainscrito[a].periodo)))};p();const v=(0,c.iH)([]),g=async()=>{const e=await s.dispatch("api/GetAllData","periodos");let a=d.filter((a=>e.some((e=>a._id===e._id))));for(var t in a)l.remove(e,a[t]);v.value=e},w=async o=>{const l={coll:"asignaciones",periodo:o,estudiante:e.student};await s.dispatch("api/SaveItem",l);i.value=!1,t.notify("Estudiante inscrito a periodo"),a.emit("updated")};return{dialog:i,openDialog:n,periodos:v,inscribir:w}}};pa.render=ma;const va=pa;S()(pa,"components",{QBtn:z.Z,QDialog:Qe.Z,QCard:V.Z,QCardSection:Z.Z,QList:ze.Z,QItem:He.Z,QItemSection:Se.Z});const ga={class:"text-center q-mt-md"},wa={key:0,class:"text-caption text-grey"},_a=(0,o._)("div",{class:"text-caption"},"Periodos disponibles",-1);function ya(e,a,t,s,l,i){const n=(0,o.up)("q-btn"),d=(0,o.up)("q-card-section"),c=(0,o.up)("q-card"),r=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",ga,[t.asignacion.asesores?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[t.asignacion.asesores[0].length+t.asignacion.asesores[1].length>0?((0,o.wg)(),(0,o.iD)("div",wa,"Para eliminar, no debe haber asesores asignados.")):((0,o.wg)(),(0,o.j4)(n,{key:1,label:"Eliminar inscripción a periodo",unelevated:"",color:"grey","no-caps":"",onClick:s.openDialog,size:"sm"},null,8,["onClick"]))],64)):(0,o.kq)("",!0),(0,o.Wm)(r,{modelValue:s.dialog,"onUpdate:modelValue":a[0]||(a[0]=e=>s.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[_a])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const fa={props:["asignacion"],setup(e,a){const t=(0,r.Z)(),s=((0,u.oR)(),(0,m.tv)(),(0,o.f3)("$_"),(0,c.iH)(!1)),l=((0,c.iH)(0),()=>{t.dialog({title:"Eliminar periodo",message:"Se eliminará la inscripción al periodo <strong>"+e.asignacion.periodo.name+"</strong>",html:!0,cancel:"Cancelar",ok:"Eliminar"}).onOk((()=>{deletePeriodo(item)}))});return{dialog:s,openDialog:l}}};fa.render=ya;const xa=fa;S()(fa,"components",{QBtn:z.Z,QDialog:Qe.Z,QCard:V.Z,QCardSection:Z.Z});const qa={components:{datesprogress:Ve.Z,administrarAsesores:Le,eliminarAsesor:ia,periodoInscribir:va,periodoDesinscribir:xa},props:["student"],setup(e){const a=(0,r.Z)(),t=(0,u.oR)(),s=((0,m.tv)(),(0,o.f3)("$_")),l=(0,c.iH)(!0),i=(0,c.iH)(e.student),n=(0,c.iH)([]),d=((0,c.iH)(!1),async()=>{for(var e in l.value=!0,n.value=[],n.value=await t.dispatch("api/GetAllDataFiltered",["asignaciones","estudiante",i.value._id]),n.value)p(e)});d();const p=async e=>{const a=n.value[e];a.activeDates=!1,n.value[e].asesores=null;const o=await t.dispatch("api/GetAllDataFiltered",["asesores","asignacion",a._id]);n.value[e].asesores=await s.partition(o,(e=>"director"===e.tipo)),l.value=!1},v=async e=>{var o={_id:e._id,coloquio1:e.coloquio1,coloquio2:e.coloquio2,candidatura:e.candidatura,grado:e.grado,coll:"asignaciones"};await t.dispatch("api/SaveItem",o);a.notify("Fechas guardadas"),e.activeDates=!1};return{periodosAsignados:n,loadItems:d,loadAsesores:p,saveDates:v,loading:l}}};qa.render=De;const ba=qa;S()(qa,"components",{QCard:V.Z,QCardSection:Z.Z,QToggle:C.Z,QTooltip:oa.Z,QInput:U.Z,QBtn:z.Z,QCheckbox:Ie.Z});const ka={components:{estudianteCuenta:I,estudianteInformacion:J,estudiantePeriodos:ba},setup(){(0,r.Z)();const e=(0,u.oR)(),a=((0,m.tv)(),(0,m.yj)()),t=(0,c.iH)(null),o=async()=>{const o={coll:"estudiantes",id:a.params.id},s=await e.dispatch("api/GetSingleData",o);t.value=s[0]};return o(),{student:t}}};var Wa=t(4379);ka.render=d;const ha=ka;S()(ka,"components",{QPage:Wa.Z})}}]);